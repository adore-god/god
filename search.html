<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<link href="https://god.thway.uk" rel="canonical">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<link rel="preconnect" href="https://www.blueletterbible.org" crossorigin><link rel="dns-prefetch" href="https://www.blueletterbible.org">
<link href="favicon.png" rel="icon" type="image/png">
<link rel="manifest" href="manifest.json">
<link href="style.css" rel="stylesheet">
<link rel="stylesheet" href="style-fonts.css" media="print" onload="this.media='all'">
<script src="https://www.blueletterbible.org/assets-v3/scripts/blbToolTip/BLB_ScriptTagger-min.js"></script><script>
// Additional settings
BLB.Tagger.Translation = 'BBE';
BLB.Tagger.HyperLinks = 'hover'; // 'all', 'none', 'hover'
BLB.Tagger.HideTranslationAbbrev = true;
BLB.Tagger.TargetNewWindow = true;
BLB.Tagger.Style = 'line'; // 'line' or 'par'
BLB.Tagger.NoSearchTagNames = 'h1,h2,h3,h4'; // HTML element list
BLB.Tagger.NoSearchClassNames = 'noTag doNotTag sidebar'; // CSS class list
</script>
<script src="script.js"></script>
<script src="latest-arts.js"></script>
<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-Z5M83Q78Z0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z5M83Q78Z0');
</script>
<title>Search</title>
</head>
<body>
<div class="header"><a href="index.html">The Way</a><button id="theme-toggle">&#9680;</button><script src="script-dark-light.js"></script>
</div>
<h1>Search</h1>
<div class="container">



<form id="search-form">
    <input type="text" id="searchBox" placeholder="Search with Google"><br> 
    <button type="submit">Go</button>
  </form>

  <!-- Where results will show -->
  <div id="search-results">
    <div class="gcse-searchresults-only" data-gname="results-only"></div>
  </div>

  <!-- Load Google CSE -->
  <script async src="https://cse.google.com/cse.js?cx=62434d5e426ae403f"></script>
  <script>
    // Attach your form to Google CSE
    document.getElementById('search-form').addEventListener('submit', function(e) {
      e.preventDefault();
      var query = document.getElementById('search-input').value;
      if (query) {
        google.search.cse.element.getElement('results-only').execute(query);
      }
    });

    // Ensure CSE is ready before rendering
    window.__gcse = {
      callback: function() {
        if (document.readyState === 'complete') {
          google.search.cse.element.render({
            gname: 'results-only',
            div: 'search-results',
            tag: 'searchresults-only'
          });
        }
      }
    };
  </script>





<input type="text" id="searchBox" placeholder="Search...">
<div class="srch-series-link">
<a href="series-links.html">Series and Collections</a>
</div>
<ul id="results"></ul>

<div class="latest-posts">
<h4 class="center">Latest Updates </h4> 
<div id="latest-posts"></div>
</div> 

<script>
async function loadIndex() {
  const response = await fetch('searchIndex.json');
  return await response.json();
}

document.getElementById('searchBox').addEventListener('input', async function() {
  const query = this.value.toLowerCase();
  const resultsList = document.getElementById('results');
  resultsList.innerHTML = '';

  if (!query) return;

  const index = await loadIndex();
  const results = index.filter(page =>
    page.title.toLowerCase().includes(query) ||
    page.content.toLowerCase().includes(query)
  );

  results.forEach(page => {
    const li = document.createElement('li');
    li.innerHTML = `<a href="${page.url}">${page.title}</a>`;
    resultsList.appendChild(li);
  });
});
</script>
</div>
<div class="footer">
Â© <a href="index.html">The Way</a>
</div>
</body>
</html>
